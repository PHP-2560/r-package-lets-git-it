---
title: "Income_Driven_Vignette"
author: "Jon Spiegel and Kevin Chen"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Income_Driven_Vignette}
  %\VignetteEngine{knitr::rmarkdown}
  %\usepackage[utf8]{inputenc}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

The `income.driven()` function takes in the amount of federal debt owed at the end of medical school, the interest rate at which it was borrowed, the income of the borrower, and the number of years they plan to pay 10% of their income for. It then calculates how much of the debt will be forgiven after they have completed their term of repaying 10% of their income.
    
For example, suppose somebody borrowed 400,000 USD from the federal government and is becoming an oncologist (residency = 5 years, average salary = 353,000 USD). We will assume they borrowed at a rate of 7.5% and that they will pay it back over 20 years.

```{r, fig.show='hold'}
library(MedLoans)
income <- c(65000,65000,65000,65000,65000, 353000, 353000,353000, 353000,353000, 353000,353000, 353000,353000, 353000,353000, 353000,353000, 353000,353000)
income.driven(400000,.075,income, plan=20)
```

This gives us a final forgiven amount of 545732.1 USD.
    
The function `forgiveness.prep.fund()` can help calculate how much this means you now need to store away per year to cover the tax bill on the forgiven loan amount.
    
Additionally, `income.driven.vector()` is a highly similar function; the difference between the two functions is that `income.driven()` returns the final amount forgiven, whereas `income.driven.vector()` returns the balance after each of the years in the form of a vector.