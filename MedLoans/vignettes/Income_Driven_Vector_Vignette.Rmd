---
title: "Income Driven Vector Vignette"
author: "Jon Spiegel and Kevin Chen"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

The function `income.driven.vector()` takes in the amount of federal debt owed at the end of medical school, the interest rate at which it was borrowed, your annual income, and the number of many years you plan to pay 10% of your income for. It then calculates how much of your debt will be left each year after you have completed your term of repaying 10% of your income. On the final year, this debt will be forgiven and taxed.
    
For example, suppose somebody borrowed 400,000 USD from the federal government and is becoming an oncologist (residency = 5 years, average salary = 353,000 USD). We will assume they borrowed at a rate of 7.5% and that they will pay it back over 20 years.

```{r, fig.show='hold'}
library(MedLoans)
income <- c(65000,65000,65000,65000,65000, 353000, 353000,353000, 353000,353000, 353000,353000, 353000,353000, 353000,353000, 353000,353000, 353000,353000)
income.driven.vector(400000,.075,income, plan=20)
```

This gives us a final forgiven amount of 545732.1 USD.
    
`income.driven()` is a highly similar function; the difference is that `income.driven.vector()` returns the balance after each of the years in the form of a vector, whereas `income.driven()` returns only the final amount forgiven.